<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: api/timesheet.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: api/timesheet.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>let Base = require('./base');

class Timesheet extends Base {

  constructor() {
    super();
  }

  /**
   * [dateRange description]
   * @param  {Object} options
   * @return {Promise&lt;Response>}
   */
  dateRange(options) {
    let url = `time/Sheet/${process.env.BIGTIME_STAFF_ID}?StartDt=${options.start}&amp;EndDt=${options.end}&amp;View=Detailed`;
    return this.get(url, Base.authHeaders());
  }

  /**
   * [dateRangeSummary description]
   * @param  {Object} options
   * @return {Promise&lt;Response>}
   */
  dateRangeSummary(options) {
    let url = `time/TotalByDay/${process.env.BIGTIME_STAFF_ID}?StartDt=${options.start}&amp;EndDt=${options.end}`;
    return this.get(url, Base.authHeaders());
  }

  /**
   * [detail description]
   * @param  {Object} options
   * @return {Promise&lt;Response>}
   */
  detail(options) {
    let url = `time/${options.sid}`;
    return this.get(url, Base.authHeaders());
  }

  /**
   * [create description]
   * @param  {Object} options
   * @return {Promise&lt;Response>}
   */
  create(options) {
    let url = `time?MarkSubmitted=${options.markSubmitted || false}`,
        body = {
          Dt: options.date, // required
          ProjectSID: options.projectSid, // required
          // ProjectLinkValue: options.projectLinkValue, // required if projectSid is unknown
          // ProjectLinkType: options.projectLinkType, // required if projectSid is unknown
          StaffSID: options.staffSid || Number(process.env.BIGTIME_STAFF_ID), // required
          // StaffLinkValue: options.staffLinkValue, // required if staffSid is unknown
          // StaffLinkType: options.staffLinkType, // required if staffSid is unknown
          // BudgCatID: options.budgetCategoryId,
          BudgCatLinkValue: 'Development', // options.budgetCategoryLinkValue, // required if budgetCategoryId is unknown
          BudgCatLinkType: 1, // options.budgetCategoryLinkType, // required if budgetCategoryId is unknown
          // TaskSID: options.taskSid,
          // TaskNm: options.taskNumber,
          // QBClass: options.quickBooksClass,
          // PayrollItem: options.payrollItem,
          Hours_IN: options.hours // required
          // Notes: options.notes,
          // AuditLogNote: options.auditLogNote,
          // NoCharge: options.noCharge,
          // HoursBillable: options.hoursBillable, // documentation claims this is required, but doesn't appear to be (or the API has a sensible default)
          // ChargeBillable: options.chargeBillable // documentation claims this is required, but doesn't appear to be (or the API has a sensible default)
        };
    return this.post(url, body, Base.authHeaders());
  }

  /**
   * [update description]
   * @param  {Object} options
   * @return {Promise&lt;Response>}
   */
  update(options) {
    let url = `time/${options.sid}?MarkSubmitted=${options.markSubmitted || false}`,
        body = {
          SID: options.sid, // required
          Dt: options.date, // required
          ProjectSID: options.projectSid, // required
          // ProjectLinkValue: options.projectLinkValue, // required if projectSid is unknown
          // ProjectLinkType: options.projectLinkType, // required if projectSid is unknown
          StaffSID: options.staffSid, // required
          // StaffLinkValue: options.staffLinkValue, // required if staffSid is unknown
          // StaffLinkType: options.staffLinkType, // required if staffSid is unknown
          // BudgCatID: options.budgetCategoryId,
          BudgCatLinkValue: options.budgetCategoryLinkValue, // required
          BudgCatLinkType: options.budgetCategoryLinkType, // required
          // TaskSID: options.taskSid,
          // TaskNm: options.taskNumber,
          // QBClass: options.quickBooksClass,
          // PayrollItem: options.payrollItem,
          Hours_IN: options.hours, // required
          // Notes: options.notes,
          // AuditLogNote: options.auditLogNote,
          // NoCharge: options.noCharge,
          HoursBillable: options.hoursBillable, // required
          ChargeBillable: options.chargeBillable // required
        };
    return this.post(url, body, Base.authHeaders());
  }

  /**
   * [destory description]
   * @param  {Object} options
   * @return {Promise&lt;Response>}
   */
  destroy(options) {
    if (!options.confirm) return;
    let url = `time/${options.sid}`,
        body = {};
    return this.delete(url, body, Base.authHeaders());
  }

}

module.exports = Timesheet;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Base.html">Base</a></li></ul><h3>Global</h3><ul><li><a href="global.html">authHeaders</a></li><li><a href="global.html#bodyAsJson">bodyAsJson</a></li><li><a href="global.html#reduceEntry">reduceEntry</a></li><li><a href="global.html#Request">Request</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Thu Jun 16 2016 17:14:40 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
